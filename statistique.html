<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediSchedule - Administrative Statistics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
   <div class="admin-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2 style="color: #4361ee;"><i class="fas fa-cog"></i> Administration</h2>
            </div>
            <div class="sidebar-menu">
              
              
                <div class="menu-item ">
                    <i class="fas fa-calendar-alt"></i>
                    <span><a href="adminA.html" style="text-decoration: none; color: black;">Appointments</a></span>
                </div>
                <div class="menu-item">
                    <i class="fas fa-users"></i>
                    <span>Clients</span>
                </div>
                <div class="menu-item">
                    <i class="fas fa-comment-dots"></i>
                   <span> <a href="discussionadmin.html" style="text-decoration: none; color: black;">Discussions</a></span>
                </div>
                <div class="menu-item">
                    <i class="fas fa-chart-bar"></i>
                    <span><a href="statistique.html" style="text-decoration: none; color: black;">Statistics</a></span>
                </div>
                    <div class="menu-item ">
                    <i class="fas fa-user-md"></i>
                    <a href="userinterface.html" class="user" style="text-decoration: none; color: black; "><span>User Panel</span></a>
                </div>
                <div class="menu-item">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <h1 class="page-title">
                <i class="fas fa-chart-pie"></i> Monthly Statistics
            </h1>

            <!-- Filters -->
            <div class="stats-filters">
                <div class="filter-group">
                    <label for="month-select">Month:</label>
                    <select id="month-select" class="form-control">
                        <option value="0">January</option>
                        <option value="1">February</option>
                        <option value="2">March</option>
                        <option value="3">April</option>
                        <option value="4">May</option>
                        <option value="5">June</option>
                        <option value="6">July</option>
                        <option value="7">August</option>
                        <option value="8">September</option>
                        <option value="9">October</option>
                        <option value="10">November</option>
                        <option value="11">December</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="year-select">Year:</label>
                    <select id="year-select" class="form-control">
                        <option value="2023">2023</option>
                        <option value="2024" selected>2024</option>
                    </select>
                </div>

                <button id="refresh-btn" class="btn btn-primary">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>

            <!-- Statistics Cards -->
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-icon bg-primary">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-rdv">0</h3>
                        <p>Appointments this month</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon bg-success">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="new-users">0</h3>
                        <p>New users</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon bg-warning">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="avg-time">0min</h3>
                        <p>Average time/appointment</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon bg-danger">
                        <i class="fas fa-times-circle"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="cancel-rate">0%</h3>
                        <p>Cancellation rate</p>
                    </div>
                </div>
            </div>

            <!-- Charts -->
            <div class="charts-container">
                <div class="chart-card">
                    <h3><i class="fas fa-chart-line"></i> Appointments by week</h3>
                    <canvas id="weeklyChart"></canvas>
                </div>

                <div class="chart-card">
                    <h3><i class="fas fa-chart-pie"></i> Distribution by specialty</h3>
                    <canvas id="specialtyChart"></canvas>
                </div>
            </div>

            <!-- Recent Appointments Table -->
            <div class="recent-appointments">
                <h3><i class="fas fa-history"></i> Recent appointments</h3>
                <table class="appointments-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Patient</th>
                            <th>Specialist</th>
                            <th>Date/Time</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="recent-appointments-body">
                        <!-- Dynamically filled -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script src="js/admin-stats.js"></script>
</body>
</html>